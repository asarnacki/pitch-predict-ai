---
import Layout from "../layouts/Layout.astro";
import { AuthForm } from "../components/AuthForm";
import { Toaster } from "../components/ui/sonner";

// This page should be server-side rendered
export const prerender = false;

// TODO: When middleware is implemented, handle password recovery token from URL
// const { searchParams } = Astro.url;
// const token = searchParams.get('token');
// if (!token) {
//   return Astro.redirect('/login');
// }
---

<Layout title="Ustaw nowe hasÅ‚o - PitchPredict AI">
  <main class="min-h-screen flex items-center justify-center p-4 bg-background">
    <div class="w-full max-w-md">
      <AuthForm client:load mode="update-password" />
    </div>
  </main>
  <Toaster client:load />
</Layout>
